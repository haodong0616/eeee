# âš¡ é…ç½®çƒ­æ›´æ–°æœºåˆ¶

## ğŸ¯ ç°åœ¨æ˜¯**å‡†å®æ—¶ç”Ÿæ•ˆ**ï¼

ä¿®æ”¹äº¤æ˜“å¯¹æ´»è·ƒåº¦é…ç½®åï¼Œ**æœ€å¤š10ç§’**å†…ç”Ÿæ•ˆï¼Œæ— éœ€é‡å¯åç«¯ï¼

## ğŸ”„ ç”Ÿæ•ˆæ—¶é—´çº¿

```
æ—¶é—´è½´ï¼š
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

T+0ç§’   ä½ åœ¨ç®¡ç†åå°ç‚¹å‡»"æ›´æ–°"
        â””â”€> æ•°æ®åº“å·²ä¿å­˜æ–°é…ç½® âœ…

T+0-10ç§’ ç­‰å¾…é…ç½®æ£€æŸ¥å™¨æ‰«æ
         â””â”€> monitorPairs æ¯10ç§’æ£€æŸ¥ä¸€æ¬¡

T+10ç§’  æ£€æµ‹åˆ°é…ç½®å˜åŒ– ğŸ”
        â””â”€> å‘é€é€šçŸ¥åˆ° configUpdateChan

T+10ç§’  ç«‹å³çƒ­æ›´æ–° âš¡
        â”œâ”€> é‡æ–°è®¡ç®— ticker é—´éš”
        â”œâ”€> é‡ç½® orderbookTicker
        â”œâ”€> ç«‹å³æ›´æ–°ä¸€æ¬¡è®¢å•ç°¿
        â””â”€> æ‰“å°æ—¥å¿—: "âœ… XXX é…ç½®å·²çƒ­æ›´æ–°ç”Ÿæ•ˆ"

T+10ç§’+ æ–°é…ç½®è¿è¡Œä¸­ âœ¨
        â””â”€> æŒ‰æ–°å‚æ•°æ‰§è¡Œ
```

## ğŸ“Š å„å‚æ•°ç”Ÿæ•ˆæ—¶é—´

| å‚æ•° | ç”Ÿæ•ˆæ—¶é—´ | è¯´æ˜ |
|------|---------|------|
| **æ´»è·ƒåº¦ç­‰çº§** | â‰¤10ç§’ | æ£€æµ‹åˆ°åç«‹å³è°ƒæ•´tickeré—´éš” |
| **è®¢å•ç°¿æ·±åº¦** | â‰¤10ç§’ | ä¸‹æ¬¡åˆ·æ–°æ—¶åº”ç”¨æ–°æ·±åº¦ |
| **æˆäº¤é¢‘ç‡** | â‰¤10ç§’ | ä¸‹æ¬¡æˆäº¤æ—¶åº”ç”¨æ–°é—´éš” |
| **ä»·æ ¼æ³¢åŠ¨ç‡** | â‰¤10ç§’ | ä¸‹æ¬¡è®¡ç®—ä»·æ ¼æ—¶ä½¿ç”¨æ–°å€¼ |

## ğŸ” å·¥ä½œåŸç†

### 1. é…ç½®ç›‘æ§å™¨

```go
// æ¯10ç§’æ‰«æä¸€æ¬¡æ‰€æœ‰å¯ç”¨æ¨¡æ‹Ÿå™¨çš„äº¤æ˜“å¯¹
func (s *DynamicOrderBookSimulator) monitorPairs() {
    ticker := time.NewTicker(10 * time.Second)
    
    for range ticker.C {
        s.updateActivePairs()  // æ£€æŸ¥é…ç½®å˜åŒ–
    }
}
```

### 2. å˜åŒ–æ£€æµ‹

```go
// æ¯”å¯¹ç¼“å­˜çš„é…ç½®å’Œæ•°æ®åº“æœ€æ–°é…ç½®
configChanged := 
    oldConfig.ActivityLevel != pair.ActivityLevel ||
    oldConfig.OrderbookDepth != pair.OrderbookDepth ||
    oldConfig.TradeFrequency != pair.TradeFrequency ||
    !oldConfig.PriceVolatility.Equal(pair.PriceVolatility)

if configChanged {
    // å‘é€é€šçŸ¥
    s.configUpdateChan <- pair.Symbol
}
```

### 3. çƒ­æ›´æ–°æ‰§è¡Œ

```go
case <-s.configUpdateChan:
    // æ”¶åˆ°æ›´æ–°é€šçŸ¥
    
    // 1. é‡æ–°åŠ è½½é…ç½®
    database.DB.Where("symbol = ?", symbol).First(&pair)
    
    // 2. é‡æ–°è®¡ç®—é—´éš”
    newInterval := 24 - (pair.ActivityLevel * 2)
    
    // 3. é‡ç½® ticker
    orderbookTicker.Reset(time.Duration(newInterval) * time.Second)
    
    // 4. ç«‹å³æ›´æ–°ä¸€æ¬¡è®¢å•ç°¿
    s.createOrdersWithConfig(symbol, &pair)
    
    // 5. æ‰“å°ç¡®è®¤æ—¥å¿—
    log.Printf("âœ… %s é…ç½®å·²çƒ­æ›´æ–°ç”Ÿæ•ˆ", symbol)
```

## ğŸ“ æ“ä½œæ­¥éª¤

### åœ¨ç®¡ç†åå°ä¿®æ”¹é…ç½®

1. **è®¿é—®**: `http://localhost:3001/dashboard/pairs`

2. **ç¼–è¾‘äº¤æ˜“å¯¹**:
   ```
   ç‚¹å‡» PULSE/USDT çš„"ç¼–è¾‘"æŒ‰é’®
   ```

3. **è°ƒæ•´æ´»è·ƒåº¦**:
   ```
   ğŸ® æ´»è·ƒåº¦é…ç½®
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ æ´»è·ƒåº¦ç­‰çº§: [========â—==] 9 â”‚ ğŸƒé«˜
   â”‚ è®¢å•ç°¿æ·±åº¦: [20] æ¡£         â”‚
   â”‚ æˆäº¤é¢‘ç‡:   [10] ç§’         â”‚
   â”‚ ä»·æ ¼æ³¢åŠ¨ç‡: [0.015]         â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   
   ğŸ’¡ é¢„è®¡æ•ˆæœï¼š
   â€¢ è®¢å•ç°¿æ¯ 6ç§’ æ›´æ–°ä¸€æ¬¡
   â€¢ ä»·æ ¼åˆ†å¸ƒèŒƒå›´: Â±6.8%
   â€¢ æˆäº¤é‡æ³¢åŠ¨: å¤§
   ```

4. **ç‚¹å‡»"æ›´æ–°"æŒ‰é’®**

5. **è§‚å¯Ÿåç«¯æ—¥å¿—**ï¼ˆâ‰¤10ç§’å†…ï¼‰:
   ```
   ğŸ”„ PULSE/USDT é…ç½®å·²æ›´æ–° (æ´»è·ƒåº¦:9, æ·±åº¦:20æ¡£, é¢‘ç‡:10s, æ³¢åŠ¨:1.500%)
   âœ… PULSE/USDT é…ç½®å·²çƒ­æ›´æ–°ç”Ÿæ•ˆ
   ğŸ“š PULSE/USDT è®¢å•ç°¿å·²æ›´æ–° (ä¹°å•x20, å–å•x20, æ´»è·ƒåº¦:9)
   ```

6. **è§‚å¯Ÿå‰ç«¯æ•ˆæœ**:
   - ç›˜å£æ•°å­—è·³åŠ¨åŠ å¿«
   - ä»·æ ¼èŒƒå›´å˜å¤§
   - æˆäº¤è®°å½•æ»šåŠ¨åŠ å¿«

## ğŸ§ª æµ‹è¯•éªŒè¯

### æµ‹è¯• 1ï¼šæ´»è·ƒåº¦å®æ—¶å˜åŒ–

```bash
# 1. è®¾ç½®ä½æ´»è·ƒåº¦
æ´»è·ƒåº¦: 2 ğŸ¢

# è§‚å¯Ÿæ—¥å¿—ï¼ˆæ¯20ç§’æ›´æ–°ï¼‰
ğŸ“š PULSE/USDT è®¢å•ç°¿å·²æ›´æ–°...
(ç­‰å¾…20ç§’)
ğŸ“š PULSE/USDT è®¢å•ç°¿å·²æ›´æ–°...

# 2. ä¿®æ”¹ä¸ºé«˜æ´»è·ƒåº¦
æ´»è·ƒåº¦: 10 ğŸš€

# â‰¤10ç§’åçœ‹åˆ°
ğŸ”„ PULSE/USDT é…ç½®å·²æ›´æ–° (æ´»è·ƒåº¦:10...)
âœ… PULSE/USDT é…ç½®å·²çƒ­æ›´æ–°ç”Ÿæ•ˆ

# è§‚å¯Ÿæ—¥å¿—ï¼ˆæ¯4ç§’æ›´æ–°ï¼‰
ğŸ“š PULSE/USDT è®¢å•ç°¿å·²æ›´æ–°...
(ç­‰å¾…4ç§’)
ğŸ“š PULSE/USDT è®¢å•ç°¿å·²æ›´æ–°...
```

### æµ‹è¯• 2ï¼šè®¢å•ç°¿æ·±åº¦å˜åŒ–

```bash
# ä¿®æ”¹å‰ï¼š15æ¡£
ğŸ“š PULSE/USDT è®¢å•ç°¿å·²æ›´æ–° (ä¹°å•x15, å–å•x15, æ´»è·ƒåº¦:5)

# ä¿®æ”¹ä¸ºï¼š25æ¡£

# â‰¤10ç§’å
ğŸ”„ PULSE/USDT é…ç½®å·²æ›´æ–° (æ·±åº¦:25æ¡£...)
âœ… PULSE/USDT é…ç½®å·²çƒ­æ›´æ–°ç”Ÿæ•ˆ
ğŸ“š PULSE/USDT è®¢å•ç°¿å·²æ›´æ–° (ä¹°å•x25, å–å•x25, æ´»è·ƒåº¦:5)
```

## â±ï¸ ç”Ÿæ•ˆæ—¶é—´ä¿è¯

### æœ€å¿«åœºæ™¯ï¼ˆè¿æ°”å¥½ï¼‰

```
ä¿®æ”¹é…ç½® â†’ 1ç§’åæ°å¥½æ£€æŸ¥ â†’ ç«‹å³ç”Ÿæ•ˆ
æ€»è€—æ—¶: ~1ç§’ âš¡
```

### æœ€æ…¢åœºæ™¯ï¼ˆè¿æ°”å·®ï¼‰

```
ä¿®æ”¹é…ç½® â†’ ç­‰å¾…9ç§’æ‰æ£€æŸ¥ â†’ æ£€æµ‹åˆ°å˜åŒ– â†’ ç«‹å³ç”Ÿæ•ˆ
æ€»è€—æ—¶: ~10ç§’ â±ï¸
```

### å¹³å‡åœºæ™¯

```
ä¿®æ”¹é…ç½® â†’ ç­‰å¾…5ç§’ â†’ æ£€æµ‹åˆ°å˜åŒ– â†’ ç«‹å³ç”Ÿæ•ˆ
æ€»è€—æ—¶: ~5ç§’ ğŸ¯
```

## ğŸ® é…ç½®å»ºè®®

### å¿«é€Ÿè§æ•ˆï¼ˆæµ‹è¯•ç”¨ï¼‰

```
æ´»è·ƒåº¦: 10
æ·±åº¦: 20æ¡£
é¢‘ç‡: 5ç§’
æ³¢åŠ¨: 0.02

æ•ˆæœï¼šæåº¦æ´»è·ƒï¼Œç«‹å³èƒ½çœ‹åˆ°å˜åŒ–
```

### ç¨³å®šè¿è¥ï¼ˆç”Ÿäº§ç”¨ï¼‰

```
çƒ­é—¨å¸ï¼ˆPULSEï¼‰:
- æ´»è·ƒåº¦: 8-9
- æ·±åº¦: 18-20æ¡£
- é¢‘ç‡: 10-15ç§’
- æ³¢åŠ¨: 0.012-0.015

ä¸»æµå¸:
- æ´»è·ƒåº¦: 6-7
- æ·±åº¦: 15æ¡£
- é¢‘ç‡: 18-25ç§’
- æ³¢åŠ¨: 0.01-0.012

å†·é—¨å¸:
- æ´»è·ƒåº¦: 3-4
- æ·±åº¦: 10æ¡£
- é¢‘ç‡: 30-40ç§’
- æ³¢åŠ¨: 0.018-0.025
```

## ğŸ“ˆ ç›‘æ§æ–¹å¼

### æŸ¥çœ‹åç«¯æ—¥å¿—

```bash
# å®æ—¶æŸ¥çœ‹é…ç½®æ›´æ–°
tail -f /root/go/log/exchange_access.log | grep "é…ç½®å·²æ›´æ–°"

# å®æ—¶æŸ¥çœ‹ç”Ÿæ•ˆç¡®è®¤
tail -f /root/go/log/exchange_access.log | grep "çƒ­æ›´æ–°ç”Ÿæ•ˆ"

# æŸ¥çœ‹è®¢å•ç°¿æ›´æ–°ï¼ˆè§‚å¯Ÿé¢‘ç‡å˜åŒ–ï¼‰
tail -f /root/go/log/exchange_access.log | grep "è®¢å•ç°¿å·²æ›´æ–°"
```

### å‰ç«¯è§‚å¯Ÿ

æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…· â†’ Network â†’ WSï¼š
```
è§‚å¯Ÿ WebSocket æ¶ˆæ¯é¢‘ç‡ï¼š
- orderbook: è®¢å•ç°¿æ›´æ–°
- trade: æˆäº¤è®°å½•
- ticker: ä»·æ ¼æ›´æ–°
```

## âœ¨ ä¼˜åŠ¿

### ä¹‹å‰ï¼ˆéœ€é‡å¯ï¼‰

```
ä¿®æ”¹é…ç½® â†’ é‡å¯åç«¯ â†’ ç­‰å¾…åˆå§‹åŒ– â†’ ç”Ÿæ•ˆ
æ€»è€—æ—¶: ~30ç§’-1åˆ†é’Ÿ ğŸ˜´
```

### ç°åœ¨ï¼ˆçƒ­æ›´æ–°ï¼‰

```
ä¿®æ”¹é…ç½® â†’ ç­‰å¾…æ£€æµ‹ â†’ ç«‹å³ç”Ÿæ•ˆ
æ€»è€—æ—¶: â‰¤10ç§’ âš¡
```

**æå‡**: å¿«äº† **3-6å€**ï¼

## ğŸ”’ å¯é æ€§ä¿è¯

- âœ… **é…ç½®ç¼“å­˜** - é¿å…é¢‘ç¹æŸ¥æ•°æ®åº“
- âœ… **å˜åŒ–æ£€æµ‹** - åªåœ¨çœŸæ­£æ”¹å˜æ—¶æ‰æ›´æ–°
- âœ… **é€šé“ç¼“å†²** - 100ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¸ä¼šé˜»å¡
- âœ… **éé˜»å¡å‘é€** - ä½¿ç”¨ select defaultï¼Œä¸ä¼šå¡ä½
- âœ… **ç«‹å³æ‰§è¡Œ** - æ”¶åˆ°é€šçŸ¥åé©¬ä¸Šæ›´æ–°è®¢å•ç°¿

## ğŸ“Š æ€»ç»“

| ç‰¹æ€§ | æ”¯æŒ | è¯´æ˜ |
|------|------|------|
| **çƒ­æ›´æ–°** | âœ… | æ— éœ€é‡å¯åç«¯ |
| **å®æ—¶ç”Ÿæ•ˆ** | âœ… | â‰¤10ç§’å†…åº”ç”¨ |
| **æŒ‰å¸ç§é…ç½®** | âœ… | æ¯ä¸ªå¸ç‹¬ç«‹è®¾ç½® |
| **å¯è§†åŒ–ç¼–è¾‘** | âœ… | ç®¡ç†åå°ç•Œé¢ |
| **æ•ˆæœé¢„è§ˆ** | âœ… | ä¿®æ”¹æ—¶æ˜¾ç¤ºé¢„è®¡æ•ˆæœ |
| **æ—¥å¿—ç¡®è®¤** | âœ… | å®æ—¶æ‰“å°æ›´æ–°çŠ¶æ€ |

**å›ç­”ä½ çš„é—®é¢˜**ï¼š
- âŒ ä¸æ˜¯ç«‹åˆ»ï¼ˆæ¯«ç§’çº§ï¼‰
- âœ… ä½†æ˜¯å‡†å®æ—¶ï¼ˆ10ç§’å†…ï¼‰
- ğŸš€ æ¯”é‡å¯å¿«3-6å€

è¿™å¯¹äºç”Ÿäº§ç¯å¢ƒå·²ç»è¶³å¤Ÿå¿«äº†ï¼ğŸ‰

